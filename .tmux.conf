# Start windows and panes at 1, not 0
set  -g base-index 1
setw -g pane-base-index 1

new
neww

set-window-option -g mode-keys vi
set-option -g history-limit 450000
set-option -g mouse on

# x11
# Support mouse drag to copy (copy-mode-vi)
bind -Tcopy-mode-vi MouseDragEnd1Pane send -X copy-pipe-and-cancel "xclip -in -selection clipboard"
bind -Tcopy-mode MouseDragEnd1Pane send -X copy-pipe-and-cancel "xclip -in -selection clipboard"

# Clipboard integration
set -g set-clipboard on
bind -Tcopy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -in -selection clipboard"
bind -Tcopy-mode WheelUpPane    send -N1 -X scroll-up
bind -Tcopy-mode WheelDownPane  send -N1 -X scroll-down

# Wayland
# 1) OSC 52 clipboard integration
set -s set-clipboard on

# 2) Copy to system clipboard from tmux copy-mode (Wayland: wl-clipboard)
#    Press 'y' in copy-mode-vi to copy and exit copy-mode.
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "wl-copy"
# Optional: copy to PRIMARY selection (middle-click paste)
bind -T copy-mode-vi Y send-keys -X copy-pipe-and-cancel "wl-copy -p"

# 3) Quality-of-life: auto-enter selection mode with mouse drag;
#    when you release the mouse after a drag, copy to clipboard.
#    This makes it feel like “drag → release → text is in clipboard”.
#    If you prefer to press 'y' instead, comment these two lines.
bind -T root MouseDrag1Pane if -F "#{pane_in_mode}" "send -X begin-selection" "copy-mode -M"
bind -T copy-mode-vi MouseDragEnd1Pane send -X copy-pipe-and-cancel "wl-copy"


set-option -sg escape-time 10
set-option -g focus-events on

select-window -t 1

set -g status-right "\"#H\""
# (optional) Keep left side as session + windows
set -g status-left "[#S] "

set-option -g default-terminal "screen-256color"
set-option -a terminal-features 'xterm-256color:RGB'


set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-256color:RGB"

